<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>بطاقة تهنئة</title>
<style>
body { text-align:center; font-family:Arial,sans-serif; background:#f3f3f3; padding:20px; }
input { padding:10px; font-size:18px; width:250px; margin:10px; }
button { padding:10px 20px; font-size:18px; background:#243D7E; color:white; border:none; cursor:pointer; }
#card { position:relative; display:inline-block; margin-top:20px; border:1px solid #ccc; }
#card img { width:600px; display:block; }
#name { position:absolute; bottom:26px; left:70%; transform:translateX(-50%); color:#243D7E; font-size:26px; font-weight:normal; text-shadow:2px 2px 4px rgba(0,0,0,0.5); max-width:80%; word-break:break-word; }
</style>
</head>
<body>

<h2>اكتب اسمك للحصول على التهنئة</h2>
<input type="text" id="username" placeholder="اكتب اسمك هنا">
<button id="download">تحميل التهنئة</button>

<div id="card">
  <img src="https://i.imgur.com/6YNp5kR.jpeg" id="bg" alt="خلفية التهنئة">
  <div id="name"></div>
</div>

<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
document.getElementById("download").addEventListener("click", function(){
  var name = document.getElementById("username").value.trim();
  if(!name){ alert("يرجى كتابة الاسم أولاً!"); return; }
  document.getElementById("name").innerText = name;

  html2canvas(document.getElementById("card"), {useCORS:true, allowTaint:true}).then(function(canvas){
    var link = document.createElement("a");
    link.download = "تهنئة_" + name + ".png";
    link.href = canvas.toDataURL("image/png");
    link.click();
  });
});
</script>

</body>
</html>
